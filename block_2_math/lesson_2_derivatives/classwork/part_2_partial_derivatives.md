# Часть 2: Частные производные

## 2.1 Мотивация

До этого момента мы работали с функциями одной переменной: $f(x)$. Но в реальном мире многие величины зависят сразу от нескольких параметров.

**Примеры из физики:**

1. **Температура в комнате**: $T(x, y, z)$ — температура зависит от положения в пространстве. Возле окна холоднее, возле батареи теплее.

2. **Высота рельефа на карте**: $h(x, y)$ — высота над уровнем моря зависит от координат на карте (широта и долгота). Это буквально топографическая карта.

3. **Период колебаний маятника**: $T(L, g)$ — период зависит и от длины нити $L$, и от ускорения свободного падения $g$ (которое меняется на разных планетах).

**Вопрос**: Как понять, насколько быстро меняется функция нескольких переменных? Для функции одной переменной у нас была производная $f'(x)$. Что делать, если переменных несколько?

**Ответ**: Частные производные! Они показывают, как быстро меняется функция при изменении **только одной** переменной.

---

## 2.2 Геометрическая интуиция

Представьте функцию двух переменных $z = f(x, y)$ как **рельеф местности** (холм или долину).

- **$x$** — направление на восток
- **$y$** — направление на север
- **$z = f(x, y)$** — высота в точке с координатами $(x, y)$

Теперь вы стоите в некоторой точке на склоне холма. **В разных направлениях крутизна склона разная!**

### Частная производная по $x$: $\frac{\partial f}{\partial x}$

**Представьте:** Вы идёте строго на восток (меняете $x$), оставаясь на той же широте (фиксируете $y$).

- $\frac{\partial f}{\partial x}$ — это **крутизна склона в восточном направлении**
- Если $\frac{\partial f}{\partial x} > 0$ — идёте в гору
- Если $\frac{\partial f}{\partial x} < 0$ — идёте под гору
- Если $\frac{\partial f}{\partial x} = 0$ — идёте по горизонтали

### Частная производная по $y$: $\frac{\partial f}{\partial y}$

**Представьте:** Вы идёте строго на север (меняете $y$), оставаясь на той же долготе (фиксируете $x$).

- $\frac{\partial f}{\partial y}$ — это **крутизна склона в северном направлении**

**Важно:** Частные производные измеряют изменение функции **вдоль координатных осей**. Это как смотреть на рельеф строго с востока или строго с севера.

---

## 2.3 Определения

### Частная производная по $x$

**Определение:**
$$\frac{\partial f}{\partial x} = \lim_{\Delta x \to 0} \frac{f(x+\Delta x, y) - f(x, y)}{\Delta x}$$

**Что это значит:**
- Фиксируем $y$ (считаем $y$ константой)
- Меняем только $x$
- Берём обычную производную по $x$, как будто $y$ — это просто число

### Частная производная по $y$

**Определение:**
$$\frac{\partial f}{\partial y} = \lim_{\Delta y \to 0} \frac{f(x, y+\Delta y) - f(x, y)}{\Delta y}$$

**Что это значит:**
- Фиксируем $x$ (считаем $x$ константой)
- Меняем только $y$
- Берём обычную производную по $y$, как будто $x$ — это просто число

### Правило вычисления

**Для вычисления частной производной:**
1. Выберите переменную, по которой дифференцируете (например, $x$)
2. **Все остальные переменные считайте константами**
3. Применяйте обычные правила дифференцирования из lesson_1

**Обозначения:**
- $\frac{\partial f}{\partial x}$ — частная производная функции $f$ по $x$
- Символ $\partial$ (читается "дэ" или "частное дэ") используется вместо обычного $d$, чтобы подчеркнуть, что мы берём производную только по одной переменной

---

## 2.4 Примеры вычислений

### Пример 1: $f(x, y) = \frac{x^2 y}{x + y}$

Эта функция является частным, поэтому нам понадобится **правило дифференцирования частного**.

**Напоминание (из lesson_1):**
$$\left(\frac{u}{v}\right)' = \frac{u' \cdot v - u \cdot v'}{v^2}$$

#### Частная производная по $x$: $\frac{\partial f}{\partial x}$

**Фиксируем $y$ (считаем $y$ константой).**

Пусть:
- $u = x^2 y$ — числитель
- $v = x + y$ — знаменатель

Вычисляем производные **по $x$**:
- $\frac{\partial u}{\partial x} = 2xy$ (производная $x^2$ умножить на константу $y$)
- $\frac{\partial v}{\partial x} = 1$ (производная $x$ равна $1$, $y$ — константа)

Применяем правило частного:
$$\frac{\partial f}{\partial x} = \frac{(2xy)(x+y) - (x^2 y)(1)}{(x+y)^2}$$

Упрощаем числитель:
$$2xy(x+y) - x^2 y = 2x^2 y + 2xy^2 - x^2 y = x^2 y + 2xy^2$$

Выносим $xy$:
$$\frac{\partial f}{\partial x} = \frac{xy(x + 2y)}{(x+y)^2}$$

#### Частная производная по $y$: $\frac{\partial f}{\partial y}$

**Фиксируем $x$ (считаем $x$ константой).**

Пусть:
- $u = x^2 y$ — числитель
- $v = x + y$ — знаменатель

Вычисляем производные **по $y$**:
- $\frac{\partial u}{\partial y} = x^2$ ($x^2$ — константа, производная $y$ равна $1$)
- $\frac{\partial v}{\partial y} = 1$ ($x$ — константа)

Применяем правило частного:
$$\frac{\partial f}{\partial y} = \frac{(x^2)(x+y) - (x^2 y)(1)}{(x+y)^2}$$

Упрощаем числитель:
$$x^2(x+y) - x^2 y = x^3 + x^2 y - x^2 y = x^3$$

Итого:
$$\frac{\partial f}{\partial y} = \frac{x^3}{(x+y)^2}$$

---

### Пример 2: $f(x, y) = e^{xy} \cdot \sin(x + y)$

Это **произведение** двух функций, поэтому используем **правило произведения**.

**Напоминание:**
$$(u \cdot v)' = u' \cdot v + u \cdot v'$$

**Задание для студентов**: Вычислите обе частные производные $\frac{\partial f}{\partial x}$ и $\frac{\partial f}{\partial y}$

---

### Пример 3: $f(x, y) = \ln(x^2 + y^2)$

Это композиция функций: логарифм от суммы квадратов. Используем **цепное правило**.

**Напоминание:**
$$\frac{d}{dx}\ln(u) = \frac{1}{u} \cdot u'$$

**Задание для студентов**: Вычислите обе частные производные $\frac{\partial f}{\partial x}$ и $\frac{\partial f}{\partial y}$

---

### Пример 4: $f(x, y) = x^y$

Это **показательно-степенная функция** — и основание, и показатель содержат переменные!

**Ключевая идея:** Преобразуем функцию, используя экспоненту и логарифм:
$$x^y = e^{\ln(x^y)} = e^{y \ln x}$$

**Задание для студентов**: Вычислите обе частные производные $\frac{\partial f}{\partial x}$ и $\frac{\partial f}{\partial y}$

---

## 2.5 Полный дифференциал

До сих пор мы рассматривали изменение функции при изменении **одной** переменной. Но что, если меняются **обе** переменные одновременно?

### Формула полного дифференциала

Пусть функция $z = f(x, y)$ меняется, когда:
- $x$ изменяется на малую величину $dx$
- $y$ изменяется на малую величину $dy$

Тогда **изменение функции** $df$ (или $dz$) приближённо равно:
$$df = \frac{\partial f}{\partial x} \cdot dx + \frac{\partial f}{\partial y} \cdot dy$$

### Физический смысл

**Идея:** Полное изменение функции — это **сумма вкладов** от изменения каждой переменной.

- **Вклад от изменения $x$**: $\frac{\partial f}{\partial x} \cdot dx$
  - Насколько меняется $f$ при изменении $x$ на $dx$ (при фиксированном $y$)

- **Вклад от изменения $y$**: $\frac{\partial f}{\partial y} \cdot dy$
  - Насколько меняется $f$ при изменении $y$ на $dy$ (при фиксированном $x$)

**Полное изменение** = (вклад от $x$) + (вклад от $y$)

### Развёрнутый пример: Период маятника $T(L, g) = 2\pi\sqrt{\frac{L}{g}}$

Период колебаний математического маятника зависит от:
- $L$ — длины нити (м)
- $g$ — ускорения свободного падения (м/с²)

**Задача:** Найти, как изменится период $T$, если длина и ускорение изменятся на малые величины $dL$ и $dg$.

#### Шаг 1: Вычисляем $\frac{\partial T}{\partial L}$

**Фиксируем $g$ (считаем константой).**

Перепишем:
$$T = 2\pi \cdot \left(\frac{L}{g}\right)^{1/2} = 2\pi \cdot L^{1/2} \cdot g^{-1/2}$$

Дифференцируем по $L$ (используем правило степенной функции):
$$\frac{\partial T}{\partial L} = 2\pi \cdot \frac{1}{2} \cdot L^{-1/2} \cdot g^{-1/2} = \frac{\pi}{\sqrt{Lg}}$$

Можно переписать:
$$\frac{\partial T}{\partial L} = \frac{\pi}{\sqrt{L}} \cdot \frac{1}{\sqrt{g}} = \frac{T}{2L}$$
(так как $T = 2\pi\sqrt{L/g}$)

**Физический смысл:** При увеличении длины нити период увеличивается. Чувствительность периода к длине равна $\frac{\pi}{\sqrt{Lg}}$.

#### Шаг 2: Вычисляем $\frac{\partial T}{\partial g}$

**Фиксируем $L$ (считаем константой).**

Перепишем:
$$T = 2\pi \cdot L^{1/2} \cdot g^{-1/2}$$

Дифференцируем по $g$ (используем правило $(g^{-1/2})' = -\frac{1}{2}g^{-3/2}$):
$$\frac{\partial T}{\partial g} = 2\pi \cdot L^{1/2} \cdot \left(-\frac{1}{2}\right) \cdot g^{-3/2} = -\pi \cdot L^{1/2} \cdot g^{-3/2}$$

Упрощаем:
$$\frac{\partial T}{\partial g} = -\pi \sqrt{\frac{L}{g^3}} = -\frac{\pi L}{g\sqrt{Lg}} = -\frac{T}{2g}$$

**Физический смысл:** При увеличении $g$ (более сильная гравитация) период уменьшается (знак минус). На Луне ($g \approx 1.6$ м/с²) маятник колеблется медленнее, чем на Земле ($g \approx 9.81$ м/с²).

#### Шаг 3: Полный дифференциал

$$dT = \frac{\partial T}{\partial L} \cdot dL + \frac{\partial T}{\partial g} \cdot dg$$

Подставляем найденные производные:
$$dT = \frac{\pi}{\sqrt{Lg}} \cdot dL - \pi\sqrt{\frac{L}{g^3}} \cdot dg$$

Или в относительной форме (делим на $T = 2\pi\sqrt{L/g}$):
$$\frac{dT}{T} = \frac{1}{2} \left( \frac{dL}{L} - \frac{dg}{g} \right)$$

**Интерпретация:**
- Если длина увеличилась на 1% ($dL/L = 0.01$), то период увеличится на 0.5%
- Если $g$ увеличилось на 1% ($dg/g = 0.01$), то период уменьшится на 0.5%

**Применение:** Эта формула критически важна для анализа погрешностей измерений! Именно это мы будем использовать в следующей части урока.

---

## 2.6 Задачи для самостоятельного решения

Для каждой функции найдите обе частные производные: $\frac{\partial f}{\partial x}$ и $\frac{\partial f}{\partial y}$.

### Задача 1
$$f(x, y) = x^3 y^2 + 2xy - y^3$$

**Подсказка:** Используйте линейность производной и правило степенной функции.

---

### Задача 2
$$f(x, y) = e^x \cdot \cos(y)$$

**Подсказка:** Это произведение двух функций. При дифференцировании по $x$ функция $\cos(y)$ — константа, при дифференцировании по $y$ функция $e^x$ — константа.

---

### Задача 3
$$f(x, y) = \arctg\left(\frac{y}{x}\right)$$

**Подсказка:** Используйте цепное правило. Напоминание: $(\arctg(u))' = \frac{1}{1+u^2} \cdot u'$. Не забудьте применить правило дифференцирования частного для $u = y/x$.

---

### Задача 4
$$f(x, y) = \sqrt{x^2 + y^2}$$

**Подсказка:** Перепишите корень как степень $1/2$: $f(x, y) = (x^2 + y^2)^{1/2}$, и используйте цепное правило.

**Дополнительный вопрос:** Чему равна величина $\left(\frac{\partial f}{\partial x}\right)^2 + \left(\frac{\partial f}{\partial y}\right)^2$? Попробуйте упростить результат.

---

**Конец части 2**

В следующей части мы применим частные производные и полный дифференциал для анализа погрешностей измерений в физических экспериментах!
