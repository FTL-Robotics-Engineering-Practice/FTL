# –ë–ª–æ–∫ 4.3: –°–∏—Å—Ç–µ–º–∞ —ç–Ω–µ—Ä–≥–∏–∏ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π)

## üìñ –¢–µ–∫—Å—Ç–æ–≤–∞—è —è—á–µ–π–∫–∞ (–∏–Ω—Ç—Ä–æ)

### üîã –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–Ω–µ—Ä–≥–∏–∏

–î–æ —Å–∏—Ö –ø–æ—Ä –Ω–∞—à–∏ —Ä–æ–±–æ—Ç—ã –¥–≤–∏–≥–∞–ª–∏—Å—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, –Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ **—É –≤—Å–µ—Ö —Ä–æ–±–æ—Ç–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è**! –ë–∞—Ç–∞—Ä–µ–π–∫–∏ —Å–∞–¥—è—Ç—Å—è, –∏ —Ä–æ–±–æ—Ç—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å:
- üìä **–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —ç–Ω–µ—Ä–≥–∏—é** 
- ‚ö° **–≠–∫–æ–Ω–æ–º–∏—Ç—å –∑–∞—Ä—è–¥**
- üõå **–û—Ç–¥—ã—Ö–∞—Ç—å –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**
- üö® **–ü—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è** –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∑–∞—Ä—è–¥–µ

### üîÑ –ë–∞–ª–∞–Ω—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–¥—ã—Ö–∞

**–î–≤–∏–∂–µ–Ω–∏–µ —Ç—Ä–∞—Ç–∏—Ç —ç–Ω–µ—Ä–≥–∏—é:**
- –ö–∞–∂–¥—ã–π —à–∞–≥ = -10 —ç–Ω–µ—Ä–≥–∏–∏
- –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã = –±–æ–ª—å—à–µ —Ç—Ä–∞—Ç

**–û—Ç–¥—ã—Ö –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é:**
- –ö–∞–∂–¥—ã–π —Ü–∏–∫–ª –æ—Ç–¥—ã—Ö–∞ = +5 —ç–Ω–µ—Ä–≥–∏–∏  
- –ú–∞–∫—Å–∏–º—É–º = 100 —ç–Ω–µ—Ä–≥–∏–∏

### ü§ñ –£–º–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

–†–æ–±–æ—Ç –¥–æ–ª–∂–µ–Ω —Å–∞–º —Ä–µ—à–∞—Ç—å:
- **–î–≤–∏–≥–∞—Ç—å—Å—è**, –µ—Å–ª–∏ —ç–Ω–µ—Ä–≥–∏–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
- **–û—Ç–¥—ã—Ö–∞—Ç—å**, –µ—Å–ª–∏ —ç–Ω–µ—Ä–≥–∏–∏ –º–∞–ª–æ
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç** —Å —É—á–µ—Ç–æ–º —ç–Ω–µ—Ä–≥–∏–∏

### üéÆ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏—è

- **–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è**: –æ—Ç–¥—ã—Ö –ø—Ä–∏ <50 —ç–Ω–µ—Ä–≥–∏–∏
- **–†–∏—Å–∫–æ–≤–∞–Ω–Ω–∞—è**: –æ—Ç–¥—ã—Ö –ø—Ä–∏ <20 —ç–Ω–µ—Ä–≥–∏–∏  
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è**: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —Ü–µ–ª–∏

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è

–ú—ã –±—É–¥–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- –û–±—â–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
- –í—Ä–µ–º—è –≤ –¥–≤–∏–∂–µ–Ω–∏–∏ vs –æ—Ç–¥—ã—Ö–µ
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

---

## üíª –ö–æ–¥ –¥–ª—è —É—á–µ–Ω–∏–∫–∞

```python
# –ë–ª–æ–∫ 4.3: –°–∏—Å—Ç–µ–º–∞ —ç–Ω–µ—Ä–≥–∏–∏ - —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ä–æ–±–æ—Ç—ã!
# –î–æ–±–∞–≤–ª—è–µ–º –±–∞—Ç–∞—Ä–µ–π–∫–∏, –æ—Ç–¥—ã—Ö –∏ —ç–Ω–µ—Ä–≥–æ–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç

import matplotlib.pyplot as plt
import time

class EnergyRobot:
    """–†–æ–±–æ—Ç —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —ç–Ω–µ—Ä–≥–∏–∏"""
    
    def __init__(self, name, start_x=0, start_y=0, color="blue", max_energy=100):
        self.name = name
        self.x = start_x
        self.y = start_y
        self.start_x = start_x
        self.start_y = start_y
        self.color = color
        
        # –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞
        self.max_energy = max_energy
        self.energy = max_energy
        self.energy_per_step = 10
        self.energy_per_rest = 5
        self.low_energy_threshold = 30
        
        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        self.steps_made = 0
        self.rest_cycles = 0
        self.path = [(start_x, start_y)]
        self.energy_history = [max_energy]
        self.actions_log = []
        
        print(f"üîã {name} —Å–æ–∑–¥–∞–Ω —Å —ç–Ω–µ—Ä–≥–∏–µ–π {max_energy}/100")
    
    def show_energy_status(self):
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —ç–Ω–µ—Ä–≥–∏–∏"""
        # TODO: –°–æ–∑–¥–∞–π—Ç–µ –∫—Ä–∞—Å–∏–≤—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —ç–Ω–µ—Ä–≥–∏–∏
        energy_bar = "‚ñà" * (self.energy // 10) + "‚ñë" * ((100 - self.energy) // 10)
        status = "üü¢" if self.energy > 50 else "üü°" if self.energy > 20 else "üî¥"
        
        print(f"{status} {self.name}: [{energy_bar}] {self.energy}/100")
    
    def can_move(self):
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ö–≤–∞—Ç–∞–µ—Ç –ª–∏ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è"""
        return self.energy >= self.___  # TODO: –∫–∞–∫–æ–µ —É—Å–ª–æ–≤–∏–µ?
    
    def need_rest(self):
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω—É–∂–µ–Ω –ª–∏ –æ—Ç–¥—ã—Ö"""
        # TODO: –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–æ–≥–∏–∫—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–¥—ã—Ö–∞
        return self.energy < self.___  # –∫–æ–≥–¥–∞ —Ä–æ–±–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–¥—ã—Ö–∞—Ç—å?
    
    def move_step(self, direction):
        """–î–µ–ª–∞–µ—Ç –æ–¥–∏–Ω —à–∞–≥ (–µ—Å–ª–∏ —Ö–≤–∞—Ç–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏–∏)"""
        if not self.can_move():
            print(f"‚ö†Ô∏è {self.name}: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è!")
            return False
        
        # TODO: –†–µ–∞–ª–∏–∑—É–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∏ —Ç—Ä–∞—Ç—É —ç–Ω–µ—Ä–≥–∏–∏
        if direction == "up":
            self.y += 1
        elif direction == "down":
            self.y -= 1
        elif direction == "left":
            self.x -= 1
        elif direction == "right":
            self.x += 1
        
        # –¢—Ä–∞—Ç–∏–º —ç–Ω–µ—Ä–≥–∏—é
        self.energy -= self.___  # TODO: —Å–∫–æ–ª—å–∫–æ —ç–Ω–µ—Ä–≥–∏–∏ —Ç—Ä–∞—Ç–∏–º?
        self.steps_made += 1
        self.path.append((self.x, self.y))
        self.energy_history.append(self.energy)
        self.actions_log.append(f"move_{direction}")
        
        print(f"üö∂ {self.name} {direction} ‚Üí ({self.x}, {self.y}) [‚ö°{self.energy}]")
        return True
    
    def rest(self):
        """–û—Ç–¥—ã—Ö–∞–µ—Ç –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é"""
        # TODO: –†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ—Ç–¥—ã—Ö –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
        old_energy = self.energy
        self.energy = min(self.max_energy, self.energy + self.___)  # TODO: —Å–∫–æ–ª—å–∫–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º?
        self.rest_cycles += 1
        self.energy_history.append(self.energy)
        self.actions_log.append("rest")
        
        print(f"üò¥ {self.name} –æ—Ç–¥—ã—Ö–∞–µ—Ç: {old_energy} ‚Üí {self.energy} [üí§]")
    
    def smart_execute_command(self, command):
        """–£–º–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å —É—á–µ—Ç–æ–º —ç–Ω–µ—Ä–≥–∏–∏"""
        # –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–µ–Ω –ª–∏ –æ—Ç–¥—ã—Ö
        while self.need_rest():
            self.rest()
            self.show_energy_status()
        
        # –ü—ã—Ç–∞–µ–º—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
        if command in ["up", "down", "left", "right"]:
            success = self.move_step(command)
            if not success and self.need_rest():
                print(f"üîã {self.name} –≤—ã–Ω—É–∂–¥–µ–Ω –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º...")
                self.rest()
                self.move_step(command)  # –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
        else:
            print(f"‚ùì {self.name}: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ '{command}'")
    
    def execute_sequence_with_energy(self, commands):
        """–í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ —Å —ç–Ω–µ—Ä–≥–æ–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–æ–º"""
        print(f"\nüéØ {self.name} –≤—ã–ø–æ–ª–Ω—è–µ—Ç {len(commands)} –∫–æ–º–∞–Ω–¥: {commands}")
        
        for i, command in enumerate(commands):
            print(f"\n--- –ö–æ–º–∞–Ω–¥–∞ {i+1}/{len(commands)}: {command} ---")
            self.smart_execute_command(command)
            self.show_energy_status()
            
            # –ù–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ (—É–±–µ—Ä–∏—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ)
            # time.sleep(0.1)
        
        print(f"‚úÖ {self.name} –∑–∞–≤–µ—Ä—à–∏–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥!")
    
    def show_statistics(self):
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è"""
        total_actions = len(self.actions_log)
        move_actions = sum(1 for action in self.actions_log if action.startswith("move"))
        rest_actions = sum(1 for action in self.actions_log if action == "rest")
        
        print(f"\nüìä –≠–ù–ï–†–ì–û–°–¢–ê–¢–ò–°–¢–ò–ö–ê {self.name}:")
        print(f"   üîã –¢–µ–∫—É—â–∞—è —ç–Ω–µ—Ä–≥–∏—è: {self.energy}/{self.max_energy}")
        print(f"   üë£ –®–∞–≥–æ–≤ —Å–¥–µ–ª–∞–Ω–æ: {self.steps_made}")
        print(f"   üò¥ –¶–∏–∫–ª–æ–≤ –æ—Ç–¥—ã—Ö–∞: {self.rest_cycles}")
        print(f"   üìà –û–±—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–π: {total_actions}")
        print(f"   ‚ö° –≠–Ω–µ—Ä–≥–∏–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ: {self.steps_made * self.energy_per_step}")
        print(f"   üí§ –≠–Ω–µ—Ä–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: {self.rest_cycles * self.energy_per_rest}")
        print(f"   üìä –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: {move_actions/total_actions*100:.1f}% –¥–≤–∏–∂–µ–Ω–∏—è")
    
    def draw_energy_chart(self):
        """–†–∏—Å—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏"""
        plt.figure(figsize=(12, 4))
        
        # –ì—Ä–∞—Ñ–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏
        plt.subplot(1, 2, 1)
        plt.plot(self.energy_history, linewidth=2, color=self.color, label=f'{self.name} —ç–Ω–µ—Ä–≥–∏—è')
        plt.axhline(y=self.low_energy_threshold, color='red', linestyle='--', alpha=0.7, label='–ù–∏–∑–∫–∏–π –∑–∞—Ä—è–¥')
        plt.axhline(y=50, color='orange', linestyle='--', alpha=0.7, label='–°—Ä–µ–¥–Ω–∏–π –∑–∞—Ä—è–¥')
        plt.fill_between(range(len(self.energy_history)), self.energy_history, alpha=0.3, color=self.color)
        
        plt.title(f"–ì—Ä–∞—Ñ–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏ - {self.name}")
        plt.xlabel("–í—Ä–µ–º—è (–¥–µ–π—Å—Ç–≤–∏—è)")
        plt.ylabel("–≠–Ω–µ—Ä–≥–∏—è")
        plt.legend()
        plt.grid(True, alpha=0.3)
        plt.ylim(0, 105)
        
        # –î–∏–∞–≥—Ä–∞–º–º–∞ –¥–µ–π—Å—Ç–≤–∏–π
        plt.subplot(1, 2, 2)
        action_types = ["–î–≤–∏–∂–µ–Ω–∏–µ", "–û—Ç–¥—ã—Ö"]
        action_counts = [
            sum(1 for action in self.actions_log if action.startswith("move")),
            sum(1 for action in self.actions_log if action == "rest")
        ]
        colors = [self.color, 'lightgray']
        
        plt.pie(action_counts, labels=action_types, colors=colors, autopct='%1.1f%%')
        plt.title(f"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ - {self.name}")
        
        plt.tight_layout()
    
    def draw_path(self):
        """–†–∏—Å—É–µ—Ç –ø—É—Ç—å —Ä–æ–±–æ—Ç–∞ —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π —É—Ä–æ–≤–Ω—è —ç–Ω–µ—Ä–≥–∏–∏"""
        if len(self.path) < 2:
            return
            
        plt.figure(figsize=(10, 8))
        
        x_coords = [p[0] for p in self.path]
        y_coords = [p[1] for p in self.path]
        
        # –ü—É—Ç—å —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º —ç–Ω–µ—Ä–≥–∏–∏
        for i in range(len(self.path) - 1):
            energy_ratio = self.energy_history[i] / 100
            alpha = 0.3 + 0.7 * energy_ratio  # –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —ç–Ω–µ—Ä–≥–∏–∏
            
            plt.plot([x_coords[i], x_coords[i+1]], 
                    [y_coords[i], y_coords[i+1]], 
                    color=self.color, 
                    linewidth=3, 
                    alpha=alpha)
        
        # –°—Ç–∞—Ä—Ç–æ–≤–∞—è –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∏
        plt.scatter(x_coords[0], y_coords[0], color='green', s=200, marker='^', label='–°—Ç–∞—Ä—Ç')
        plt.scatter(x_coords[-1], y_coords[-1], color='red', s=200, marker='s', label='–§–∏–Ω–∏—à')
        
        # –¢–æ—á–∫–∏ –æ—Ç–¥—ã—Ö–∞
        rest_points_x = []
        rest_points_y = []
        for i, action in enumerate(self.actions_log):
            if action == "rest" and i < len(self.path):
                rest_points_x.append(x_coords[min(i, len(x_coords)-1)])
                rest_points_y.append(y_coords[min(i, len(y_coords)-1)])
        
        if rest_points_x:
            plt.scatter(rest_points_x, rest_points_y, color='orange', s=100, marker='o', alpha=0.7, label='–û—Ç–¥—ã—Ö')
        
        plt.title(f"–ü—É—Ç—å {self.name} (—è—Ä–∫–æ—Å—Ç—å = —É—Ä–æ–≤–µ–Ω—å —ç–Ω–µ—Ä–≥–∏–∏)")
        plt.xlabel("X")
        plt.ylabel("Y")
        plt.legend()
        plt.grid(True, alpha=0.3)
        plt.axis('equal')

# –¢–ï–°–¢ 1: –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–Ω–µ—Ä–≥–∏–∏
print("üß™ –¢–ï–°–¢ 1: –û—Å–Ω–æ–≤—ã —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã")

# TODO: –°–æ–∑–¥–∞–π—Ç–µ —Ä–æ–±–æ—Ç–∞ —Å —ç–Ω–µ—Ä–≥–∏–µ–π
energy_robot = EnergyRobot("___", ___, ___, "blue", ___)

# –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
energy_robot.show_energy_status()

# –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –¥–≤–∏–∂–µ–Ω–∏—è
print("\n–¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è:")
test_commands = ["right", "right", "up", "up", "left", "left", "down", "down"]

# TODO: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã —Å —ç–Ω–µ—Ä–≥–æ–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–æ–º
energy_robot.execute_sequence_with_energy(___)

energy_robot.show_statistics()

# –¢–ï–°–¢ 2: –†–æ–±–æ—Ç —Å –Ω–∏–∑–∫–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π
print("\nüß™ –¢–ï–°–¢ 2: –†–æ–±–æ—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π")

# TODO: –°–æ–∑–¥–∞–π—Ç–µ —Ä–æ–±–æ—Ç–∞ —Å –º–∞–ª–æ–π –±–∞—Ç–∞—Ä–µ–π–∫–æ–π
low_energy_robot = EnergyRobot("___", ___, ___, "red", max_energy=___)

# –ö–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç –æ—Ç–¥—ã—Ö–∞
demanding_commands = ["up"] * 8 + ["right"] * 6

print(f"\n–¢–µ—Å—Ç —Å –±–æ–ª—å—à–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π ({len(demanding_commands)} –∫–æ–º–∞–Ω–¥):")
low_energy_robot.execute_sequence_with_energy(demanding_commands)

low_energy_robot.show_statistics()

# –¢–ï–°–¢ 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
print("\nüß™ –¢–ï–°–¢ 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π")

# –†–æ–±–æ—Ç-–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–æ—Ä (–æ—Ç–¥—ã—Ö–∞–µ—Ç —Ä–∞–Ω–æ)
class ConservativeRobot(EnergyRobot):
    def __init__(self, name, start_x=0, start_y=0, color="blue"):
        super().__init__(name, start_x, start_y, color)
        self.low_energy_threshold = ___  # TODO: –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –¥–ª—è –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–æ—Ä–∞

# –†–æ–±–æ—Ç-—Ä–∏—Å–∫–æ–≤–∞–Ω (–æ—Ç–¥—ã—Ö–∞–µ—Ç –ø–æ–∑–¥–Ω–æ)
class RiskyRobot(EnergyRobot):
    def __init__(self, name, start_x=0, start_y=0, color="red"):
        super().__init__(name, start_x, start_y, color)
        self.low_energy_threshold = ___  # TODO: –Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –¥–ª—è —Ä–∏—Å–∫–æ–≤–∞—á–∞

# TODO: –°–æ–∑–¥–∞–π—Ç–µ —Ä–æ–±–æ—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
conservative = ConservativeRobot("___", 0, 0, "green")
risky = RiskyRobot("___", 0, 5, "red")

# –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —á–µ—Å—Ç–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
challenge_commands = ["right", "right", "up", "up", "right", "up", "left", "left", "down", "down", "down"]

print("–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π —Ä–æ–±–æ—Ç:")
conservative.execute_sequence_with_energy(challenge_commands)

print("\n–†–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π —Ä–æ–±–æ—Ç:")  
risky.execute_sequence_with_energy(challenge_commands)

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
print("\nüìä –°–†–ê–í–ù–ï–ù–ò–ï –°–¢–†–ê–¢–ï–ì–ò–ô:")
robots = [conservative, risky]

for robot in robots:
    efficiency = robot.steps_made / (robot.steps_made + robot.rest_cycles) * 100
    print(f"{robot.name}:")
    print(f"   –®–∞–≥–æ–≤: {robot.steps_made}, –û—Ç–¥—ã—Ö–∞: {robot.rest_cycles}")
    print(f"   –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: {efficiency:.1f}%")
    print(f"   –§–∏–Ω–∞–ª—å–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è: {robot.energy}")

# –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø
print("\nüé® –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø –≠–ù–ï–†–ì–û–°–ò–°–¢–ï–ú–´:")

# –ì—Ä–∞—Ñ–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏
energy_robot.draw_energy_chart()
plt.show()

low_energy_robot.draw_energy_chart()
plt.show()

# –ü—É—Ç–∏ —Ä–æ–±–æ—Ç–æ–≤
plt.figure(figsize=(15, 5))

plt.subplot(1, 3, 1)
energy_robot.draw_path()
plt.title("–û–±—ã—á–Ω—ã–π —Ä–æ–±–æ—Ç")

plt.subplot(1, 3, 2)
conservative.draw_path()
plt.title("–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π")

plt.subplot(1, 3, 3)
risky.draw_path()
plt.title("–†–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π")

plt.tight_layout()
plt.show()

# –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö —Ä–æ–±–æ—Ç–æ–≤
print(f"\nüìà –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê –≠–ù–ï–†–ì–û–°–ò–°–¢–ï–ú–´:")
all_robots = [energy_robot, low_energy_robot, conservative, risky]

total_steps = sum(robot.steps_made for robot in all_robots)
total_rest = sum(robot.rest_cycles for robot in all_robots)

print(f"   ü§ñ –†–æ–±–æ—Ç–æ–≤ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ: {len(all_robots)}")
print(f"   üë£ –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤: {total_steps}")
print(f"   üò¥ –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–¥—ã—Ö–∞: {total_rest}")
print(f"   ‚öñÔ∏è –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–µ/–æ—Ç–¥—ã—Ö: {total_steps/max(total_rest,1):.2f}")

# –°–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–æ–±–æ—Ç
most_efficient = max(all_robots, key=lambda r: r.steps_made / max(r.steps_made + r.rest_cycles, 1))
print(f"   üèÜ –°–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π: {most_efficient.name}")

print(f"\nüéâ –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω–∞!")
print(f"üí° –¢–µ–ø–µ—Ä—å —Ä–æ–±–æ—Ç—ã –≤–µ–¥—É—Ç —Å–µ–±—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ!")
```
