# üéÆ –ë–ª–æ–∫ 4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–æ–º WASD

## üéØ –¶–µ–ª—å

–†–æ–±–æ—Ç –µ–¥–µ—Ç –ø–æ –∫—Ä—É–≥—É ‚Äî —ç—Ç–æ —Ö–æ—Ä–æ—à–æ –¥–ª—è —Ç–µ—Å—Ç–∞, –Ω–æ —Ö–æ—á–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º —Å–∞–º–æ–º—É!

–î–æ–±–∞–≤–∏–º **—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏—à–∞–º–∏ WASD**:
- **W** ‚Äî –µ—Ö–∞—Ç—å –≤–ø–µ—Ä—ë–¥
- **S** ‚Äî –µ—Ö–∞—Ç—å –Ω–∞–∑–∞–¥
- **A** ‚Äî –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤–ª–µ–≤–æ
- **D** ‚Äî –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤–ø—Ä–∞–≤–æ

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç **–ø–ª–∞–≤–Ω—ã–º** ‚Äî –º–æ–∂–Ω–æ –∑–∞–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞–≤–∏—à –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, W+D = –µ—Ö–∞—Ç—å –≤–ø–µ—Ä—ë–¥ –∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤–ø—Ä–∞–≤–æ).

---

## üß† –¢–µ–æ—Ä–∏—è: –°–æ–±—ã—Ç–∏—è vs –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞–≤–∏—à

### –ü–æ–¥—Ö–æ–¥ 1: –°–æ–±—ã—Ç–∏—è (—á—Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–∞–Ω—å—à–µ)

```python
for event in pygame.event.get():
    if event.type == pygame.KEYDOWN:
        if event.key == pygame.K_z:
            print("–ù–∞–∂–∞–ª–∏ Z –æ–¥–∏–Ω —Ä–∞–∑")
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—É—á–∞–µ–º —Å–æ–±—ã—Ç–∏–µ —Ç–æ–ª—å–∫–æ **–≤ –º–æ–º–µ–Ω—Ç –Ω–∞–∂–∞—Ç–∏—è**. –ï—Å–ª–∏ –∑–∞–∂–∞—Ç—å W, –ø–æ–ª—É—á–∏–º –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ, –∏ —Ä–æ–±–æ—Ç —Å–¥–≤–∏–Ω–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑.

### –ü–æ–¥—Ö–æ–¥ 2: –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞–≤–∏—à (–¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

```python
# –í –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ (–∫–∞–∂–¥—ã–π –∫–∞–¥—Ä):
pressed_keys = pygame.key.get_pressed()

if pressed_keys[pygame.K_w]:
    print("W –∑–∞–∂–∞—Ç–∞ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å")
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ú–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å **–∫–∞–∂–¥—ã–π –∫–∞–¥—Ä**, –∑–∞–∂–∞—Ç–∞ –ª–∏ –∫–ª–∞–≤–∏—à–∞. –ï—Å–ª–∏ W –∑–∞–∂–∞—Ç–∞ ‚Äî —Ä–æ–±–æ—Ç –µ–¥–µ—Ç –≤–ø–µ—Ä—ë–¥ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä.

### –ù–∞—à–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

1. **–°–æ–±—ã—Ç–∏—è KEYDOWN/KEYUP** ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Å–ª–æ–≤–∞—Ä—å `pressed_keys`
2. **–ö–∞–∂–¥—ã–π –∫–∞–¥—Ä** ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–æ–≤–∞—Ä—å –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–æ–±–æ—Ç–∞

```python
# –ö–æ–≥–¥–∞ –∫–ª–∞–≤–∏—à–∞ –Ω–∞–∂–∞—Ç–∞
pressed_keys[pygame.K_w] = True

# –ö–æ–≥–¥–∞ –∫–ª–∞–≤–∏—à–∞ –æ—Ç–ø—É—â–µ–Ω–∞
pressed_keys[pygame.K_w] = False

# –ö–∞–∂–¥—ã–π –∫–∞–¥—Ä
if pressed_keys[pygame.K_w]:
    robot.linear_velocity = 10.0  # –µ–¥–µ–º –≤–ø–µ—Ä—ë–¥
```

---

## üìù –ó–∞–¥–∞–Ω–∏–µ 4.1: –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∞–≤–∏—à –≤ InputManager

–û–±–Ω–æ–≤–∏–º InputManager –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞–∂–∞—Ç—ã—Ö –∫–ª–∞–≤–∏—à.

**–û—Ç–∫—Ä–æ–π—Ç–µ `input_manager.py` –∏ –≤–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ robot –∏ —Å–ª–æ–≤–∞—Ä—å pressed_keys –≤ __init__

```python
    def __init__(self, grid, history, running_flag, mode_manager, robot):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≤–≤–æ–¥–∞

        Args:
            grid: –æ–±—ä–µ–∫—Ç Grid
            history: –æ–±—ä–µ–∫—Ç History
            running_flag: —Å–ø–∏—Å–æ–∫ [True/False] –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–∏–∫–ª–æ–º
            mode_manager: –æ–±—ä–µ–∫—Ç ModeManager
            robot: –æ–±—ä–µ–∫—Ç Robot  # <-- –î–û–ë–ê–í–õ–ï–ù–û
        """
        self.grid = grid
        self.history = history
        self.running_flag = running_flag
        self.mode_manager = mode_manager
        self.robot = robot  # <-- –î–û–ë–ê–í–õ–ï–ù–û

        # –§–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º—ã—à–∏
        self.left_mouse_pressed = False
        self.right_mouse_pressed = False
        self.last_drawn_cell = None
        self.last_erased_cell = None

        # TODO: –°–ª–æ–≤–∞—Ä—å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞–∂–∞—Ç—ã—Ö –∫–ª–∞–≤–∏—à —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        # –§–æ—Ä–º–∞—Ç: {–∫–æ–¥_–∫–ª–∞–≤–∏—à–∏: True/False}
        self.pressed_keys = {
            pygame.K_w: ___,  # False
            pygame.K_s: ___,  # False
            pygame.K_a: ___,  # False
            pygame.K_d: ___   # False
        }

        # –°–ª–æ–≤–∞—Ä—å –ø—Ä–∏–≤—è–∑–æ–∫ –∫–ª–∞–≤–∏—à
        self.key_bindings = {}

        # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø—Ä–∏–≤—è–∑–∫–∏ –∫–ª–∞–≤–∏—à
        self._setup_default_bindings()
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ handle_event –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è WASD

–î–æ–±–∞–≤—å—Ç–µ **–ø–µ—Ä–µ–¥** –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø—Ä–∏–≤—è–∑–æ–∫ –∫–ª–∞–≤–∏—à:

```python
    def handle_event(self, event):
        """
        –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ pygame

        Args:
            event: –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è pygame
        """
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à
        if event.type == pygame.KEYDOWN:
            # TODO: –ï—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ –∫–ª–∞–≤–∏—à–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Å–ª–æ–≤–∞—Ä—å
            if event.key in self.pressed_keys:
                self.pressed_keys[event.___] = ___  # True

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø—Ä–∏–≤—è–∑–∫–∞ –¥–ª—è —ç—Ç–æ–π –∫–ª–∞–≤–∏—à–∏
            if event.key in self.key_bindings:
                self.key_bindings[event.key]['function']()

        # TODO: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è –∫–ª–∞–≤–∏—à
        elif event.type == pygame.___:  # KEYUP
            # –ï—Å–ª–∏ –æ—Ç–ø—É—â–µ–Ω–∞ –∫–ª–∞–≤–∏—à–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è - —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –≤ —Å–ª–æ–≤–∞—Ä–µ
            if event.key in self.pressed_keys:
                self.pressed_keys[event.key] = ___  # False

        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –º—ã—à–∏ - –Ω–∞–∂–∞—Ç–∏–µ
        elif event.type == pygame.MOUSEBUTTONDOWN:
            self.handle_mouse_button_down(event.button)

        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –º—ã—à–∏ - –æ—Ç–ø—É—Å–∫–∞–Ω–∏–µ
        elif event.type == pygame.MOUSEBUTTONUP:
            self.handle_mouse_button_up(event.button)
```

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ update_robot_velocities

–í –∫–æ–Ω–µ—Ü –∫–ª–∞—Å—Å–∞ InputManager –¥–æ–±–∞–≤—å—Ç–µ:

```python
    def update_robot_velocities(self):
        """
        –û–±–Ω–æ–≤–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–æ–±–æ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∂–∞—Ç—ã—Ö –∫–ª–∞–≤–∏—à

        –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä –≤ –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ
        """
        # –¢–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ —Ä–æ–±–æ—Ç–∞
        if not self.mode_manager.is_robot_mode():
            return

        # TODO: –í—ã—á–∏—Å–ª—è–µ–º –ª–∏–Ω–µ–π–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å
        linear_velocity = 0.0

        if self.pressed_keys[pygame.K_w]:
            # W - –µ—Ö–∞—Ç—å –≤–ø–µ—Ä—ë–¥ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
            linear_velocity += self.robot.___  # max_linear_velocity

        if self.pressed_keys[pygame.K___]:  # S
            # S - –µ—Ö–∞—Ç—å –Ω–∞–∑–∞–¥ (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
            linear_velocity -= self.robot.max_linear_velocity

        # TODO: –í—ã—á–∏—Å–ª—è–µ–º —É–≥–ª–æ–≤—É—é —Å–∫–æ—Ä–æ—Å—Ç—å
        angular_velocity = 0.0

        if self.pressed_keys[pygame.K___]:  # A
            # A - –ø–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è —É–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
            # –í pygame: –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —É–≥–æ–ª = –ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏ = –≤–ª–µ–≤–æ
            angular_velocity += self.robot.___  # max_angular_velocity

        if self.pressed_keys[pygame.K___]:  # D
            # D - –ø–æ–≤–æ—Ä–æ—Ç –≤–ø—Ä–∞–≤–æ (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —É–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
            angular_velocity -= self.robot.max_angular_velocity

        # TODO: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–æ–±–æ—Ç–∞
        self.robot.set_velocities(___, ___)
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª.**

---

## üìù –ó–∞–¥–∞–Ω–∏–µ 4.2: –û–±–Ω–æ–≤–ª—è–µ–º main.py

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å robot –≤ InputManager –∏ –≤—ã–∑—ã–≤–∞—Ç—å update_robot_velocities –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä.

**–û—Ç–∫—Ä–æ–π—Ç–µ `main.py`:**

### –®–∞–≥ 1: –ü–µ—Ä–µ–¥–∞–π—Ç–µ robot –≤ InputManager

```python
    # –°–æ–∑–¥–∞—ë–º –º–µ–Ω–µ–¥–∂–µ—Ä –≤–≤–æ–¥–∞ (—Ç–µ–ø–µ—Ä—å —Å robot)
    input_manager = InputManager(grid, history, running, mode_manager, robot)  # <-- –î–û–ë–ê–í–õ–ï–ù–û robot
```

### –®–∞–≥ 2: –í—ã–∑—ã–≤–∞–π—Ç–µ update_robot_velocities –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä

–í –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ **–ø–µ—Ä–µ–¥** –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ä–æ–±–æ—Ç–∞:

```python
    # –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
    while running[0]:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running[0] = False
            else:
                input_manager.handle_event(event)

        # –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –º—ã—à–∏
        mouse_x, mouse_y = pygame.mouse.get_pos()

        # TODO: –û–±–Ω–æ–≤–ª—è–µ–º —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–æ–±–æ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∂–∞—Ç—ã—Ö –∫–ª–∞–≤–∏—à
        input_manager.___()

        # –û–±–Ω–æ–≤–ª—è–µ–º —Ä–æ–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ ROBOT
        if mode_manager.is_robot_mode():
            # –£–î–ê–õ–ò–¢–ï –≠–¢–ò –°–¢–†–û–ö–ò (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ):
            # robot.set_velocities(linear=5.0, angular=1.0)

            # –û—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ:
            robot.update(dt=0.016)  # ~60 FPS
            robot.clamp_position(robot.radius, grid.cols - robot.radius,
                                robot.radius, grid.rows - robot.radius)

        # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª.**

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:**

```bash
python main.py
```

### –¢–µ—Å—Ç 1: –†–µ–∂–∏–º MAP_EDIT (–Ω–∞—á–∞–ª—å–Ω—ã–π)

- –ú—ã—à—å —Ä–∏—Å—É–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è ‚úÖ
- WASD –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç (—Ä–æ–±–æ—Ç–∞ –Ω–µ—Ç) ‚úÖ

### –¢–µ—Å—Ç 2: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∂–∏–º ROBOT

1. –ù–∞–∂–º–∏—Ç–µ **TAB** ‚Üí "–†–µ–∂–∏–º: –†–û–ë–û–¢ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WASD)"
2. –ù–∞—Ä–∏—Å—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –¥–ª—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞

### –¢–µ—Å—Ç 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–æ–º

1. **W** ‚Äî —Ä–æ–±–æ—Ç –µ–¥–µ—Ç –≤–ø–µ—Ä—ë–¥ ‚úÖ
2. **S** ‚Äî —Ä–æ–±–æ—Ç –µ–¥–µ—Ç –Ω–∞–∑–∞–¥ ‚úÖ
3. **A** ‚Äî —Ä–æ–±–æ—Ç –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤–ª–µ–≤–æ (–ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏) ‚úÖ
4. **D** ‚Äî —Ä–æ–±–æ—Ç –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤–ø—Ä–∞–≤–æ (–ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ) ‚úÖ

### –¢–µ—Å—Ç 4: –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∫–ª–∞–≤–∏—à

1. **W + D** ‚Äî –µ–¥–µ—Ç –≤–ø–µ—Ä—ë–¥ –∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤–ø—Ä–∞–≤–æ (–¥—É–≥–∞) ‚úÖ
2. **S + A** ‚Äî –µ–¥–µ—Ç –Ω–∞–∑–∞–¥ –∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤–ª–µ–≤–æ ‚úÖ

### –¢–µ—Å—Ç 5: –ì—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç—ã

- –†–æ–±–æ—Ç –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –∫—Ä–∞—è –∫–∞—Ä—Ç—ã ‚úÖ

**–û—Ç–ª–∏—á–Ω–æ! –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ**

---

## üìù –ó–∞–¥–∞–Ω–∏–µ 4.3: –ë–û–ù–£–° - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ä–æ–±–æ—Ç –µ–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ –∏–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç–∏.

**–í `main.py` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–æ–±–æ—Ç–∞:**

```python
# –°–æ–∑–¥–∞—ë–º —Ä–æ–±–æ—Ç–∞ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ —Å–∫–æ—Ä–æ—Å—Ç—è–º–∏
robot = Robot(
    x=GRID_COLS / 2.0,
    y=GRID_ROWS / 2.0,
    angle=0.0,
    max_linear_velocity=10,  # –ü–æ–ø—Ä–æ–±—É–π—Ç–µ 5, 10, 15
    max_angular_velocity=5,  # –ü–æ–ø—Ä–æ–±—É–π—Ç–µ 3, 5, 7
    radius=1.0
)
```

**–ü–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:**
- `max_linear_velocity=5` ‚Äî —Ä–æ–±–æ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–π
- `max_linear_velocity=20` ‚Äî —Ä–æ–±–æ—Ç –±—ã—Å—Ç—Ä—ã–π
- `max_angular_velocity=3` ‚Äî –ø–æ–≤–æ—Ä–æ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–π
- `max_angular_velocity=10` ‚Äî –ø–æ–≤–æ—Ä–æ—Ç –±—ã—Å—Ç—Ä—ã–π

---

## üéì –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏?

1. ‚úÖ **–°–æ–±—ã—Ç–∏—è vs –°–æ—Å—Ç–æ—è–Ω–∏–µ** ‚Äî –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞–≤–∏—à
2. ‚úÖ **–°–ª–æ–≤–∞—Ä—å pressed_keys** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞–∂–∞—Ç—ã—Ö –∫–ª–∞–≤–∏—à WASD
3. ‚úÖ **KEYDOWN/KEYUP** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏/–æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏
4. ‚úÖ **update_robot_velocities()** ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞–≤–∏—à –≤ —Å–∫–æ—Ä–æ—Å—Ç–∏
5. ‚úÖ **–ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∫–ª–∞–≤–∏—à** ‚Äî –º–æ–∂–Ω–æ –∑–∞–∂–∞—Ç—å W+D –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
6. ‚úÖ **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏:**
   - W (–≤–ø–µ—Ä—ë–¥): `+max_linear_velocity`
   - S (–Ω–∞–∑–∞–¥): `-max_linear_velocity`
   - A (–≤–ª–µ–≤–æ): `+max_angular_velocity`
   - D (–≤–ø—Ä–∞–≤–æ): `-max_angular_velocity`

---

## üí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```
–ö–∞–∂–¥—ã–π –∫–∞–¥—Ä (60 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É):

1. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è KEYDOWN/KEYUP
   ‚Üí –û–±–Ω–æ–≤–ª—è–µ–º pressed_keys

2. –í—ã–∑—ã–≤–∞–µ–º update_robot_velocities()
   ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ–º pressed_keys
   ‚Üí –í—ã—á–∏—Å–ª—è–µ–º linear_velocity –∏ angular_velocity
   ‚Üí –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º robot.set_velocities()

3. –í—ã–∑—ã–≤–∞–µ–º robot.update(dt=0.016)
   ‚Üí –†–æ–±–æ—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ—é –ø–æ–∑–∏—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∫–æ—Ä–æ—Å—Ç–µ–π
   ‚Üí x += linear_velocity * cos(angle) * dt
   ‚Üí y += linear_velocity * sin(angle) * dt
   ‚Üí angle += angular_velocity * dt

4. –†–∏—Å—É–µ–º —Ä–æ–±–æ—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ! –ù–æ —Ä–æ–±–æ—Ç **–ø—Ä–æ–µ–∑–∂–∞–µ—Ç —Å–∫–≤–æ–∑—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è** üò±

**–î–∞–ª—å—à–µ:** –î–æ–±–∞–≤–∏–º –∑–æ–Ω—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã —Ä–æ–±–æ—Ç "–≤–∏–¥–µ–ª" –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –≤–æ–∫—Ä—É–≥ —Å–µ–±—è!
