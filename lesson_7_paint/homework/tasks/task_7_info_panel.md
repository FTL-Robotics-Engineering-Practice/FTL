# üìä –ë–ª–æ–∫ 7: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å - –ë–û–ù–£–°

## üéØ –¶–µ–ª—å

–†–æ–±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ, –Ω–æ —Ö–æ—á–µ—Ç—Å—è –≤–∏–¥–µ—Ç—å –µ–≥–æ **—Å—Ç–∞—Ç—É—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (x, y)
- –£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞
- –°–∫–æ—Ä–æ—Å—Ç–∏ (–ª–∏–Ω–µ–π–Ω–∞—è, —É–≥–ª–æ–≤–∞—è)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –≤ –∑–æ–Ω–∞—Ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–¥–∏–º **–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å —Å–ª–µ–≤–∞** —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏!

---

## üß† –¢–µ–æ—Ä–∏—è: –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –≤ pygame

**pygame.font** ‚Äî –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —à—Ä–∏—Ñ—Ç–∞–º–∏ –∏ —Ç–µ–∫—Å—Ç–æ–º.

```python
import pygame

# –°–æ–∑–¥–∞—ë–º —à—Ä–∏—Ñ—Ç (–æ–¥–∏–Ω —Ä–∞–∑)
font = pygame.font.Font(None, 24)  # None = —à—Ä–∏—Ñ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, 24 = —Ä–∞–∑–º–µ—Ä

# –†–µ–Ω–¥–µ—Ä–∏–º —Ç–µ–∫—Å—Ç –≤ Surface
text_surface = font.render("Hello!", True, (255, 255, 255))
# True = —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ, (255, 255, 255) = –±–µ–ª—ã–π —Ü–≤–µ—Ç

# –†–∏—Å—É–µ–º –Ω–∞ —ç–∫—Ä–∞–Ω–µ
screen.blit(text_surface, (x, y))  # (x, y) = –ø–æ–∑–∏—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
```

---

## üìù –ó–∞–¥–∞–Ω–∏–µ 7.1: –û–±–Ω–æ–≤–ª—è–µ–º renderer.py

–î–æ–±–∞–≤–∏–º –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏.

**–û—Ç–∫—Ä–æ–π—Ç–µ `renderer.py`:**

### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ panel_width –∏ —à—Ä–∏—Ñ—Ç –≤ __init__

```python
    def __init__(self, screen, panel_width=0):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞

        Args:
            screen: —ç–∫—Ä–∞–Ω pygame –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
            panel_width: —à–∏—Ä–∏–Ω–∞ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (0 = –Ω–µ—Ç –ø–∞–Ω–µ–ª–∏)  # <-- –î–û–ë–ê–í–õ–ï–ù–û
        """
        self.screen = screen
        self.panel_width = panel_width  # <-- –î–û–ë–ê–í–õ–ï–ù–û

        # –¶–≤–µ—Ç–∞
        self.WHITE = (255, 255, 255)
        self.GRAY = (200, 200, 200)
        self.DARK_GRAY = (100, 100, 100)
        self.BLUE = (150, 150, 255)
        self.BLACK = (0, 0, 0)
        self.GREEN = (0, 200, 0)

        # TODO: –°–æ–∑–¥–∞–π—Ç–µ —à—Ä–∏—Ñ—Ç –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –ø–∞–Ω–µ–ª–∏
        import pygame
        self.font = pygame.font.Font(None, ___)  # 20 - —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
```

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ draw_info_panel

–í –∫–æ–Ω–µ—Ü –∫–ª–∞—Å—Å–∞ Renderer –¥–æ–±–∞–≤—å—Ç–µ:

```python
    def draw_info_panel(self, robot=None, mode_manager=None):
        """
        –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å —Å–ª–µ–≤–∞

        Args:
            robot: –æ–±—ä–µ–∫—Ç Robot (–∏–ª–∏ None –≤ —Ä–µ–∂–∏–º–µ –∫–∞—Ä—Ç—ã)
            mode_manager: –æ–±—ä–µ–∫—Ç ModeManager
        """
        # –ï—Å–ª–∏ –ø–∞–Ω–µ–ª–∏ –Ω–µ—Ç - –≤—ã—Ö–æ–¥–∏–º
        if self.panel_width == 0:
            return

        # TODO: –†–∏—Å—É–µ–º —Ñ–æ–Ω –ø–∞–Ω–µ–ª–∏ (—Ç—ë–º–Ω–æ-—Å–µ—Ä—ã–π)
        pygame.draw.rect(
            self.screen,
            (50, 50, 50),  # —Ç—ë–º–Ω–æ-—Å–µ—Ä—ã–π
            (0, 0, self.___, self.screen.get_height())  # panel_width
        )

        # –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
        y_offset = 10

        # TODO: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Å—Ç—Ä–æ–∫–∏ —Ç–µ–∫—Å—Ç–∞
        def draw_text(text, color=(255, 255, 255)):
            """–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞"""
            nonlocal y_offset  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–Ω–µ—à–Ω—é—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é y_offset

            text_surface = self.font.render(text, True, color)
            self.screen.blit(text_surface, (10, y_offset))
            y_offset += ___  # 25 - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç—Ä–æ–∫–∞–º–∏

        # TODO: –ó–∞–≥–æ–ª–æ–≤–æ–∫ - —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º
        if mode_manager is not None:
            mode_name = mode_manager.get_mode_name()
            draw_text(f"–†–µ–∂–∏–º: {___}", color=(___))  # mode_name, –∂—ë–ª—Ç—ã–π (255, 255, 0)
            draw_text("")  # –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –æ—Ç—Å—Ç—É–ø–∞

        # –ï—Å–ª–∏ –≤ —Ä–µ–∂–∏–º–µ –∫–∞—Ä—Ç—ã - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
        if mode_manager is not None and mode_manager.is_map_mode():
            draw_text("–†–ï–î–ê–ö–¢–û–† –ö–ê–†–¢–´", color=(100, 200, 255))
            draw_text("")
            draw_text("–õ–ö–ú - —Ä–∏—Å–æ–≤–∞—Ç—å")
            draw_text("–ü–ö–ú - —Å—Ç–∏—Ä–∞—Ç—å")
            draw_text("Z - –æ—Ç–º–µ–Ω–∏—Ç—å")
            draw_text("C - –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë")
            draw_text("TAB - —Ä–µ–∂–∏–º —Ä–æ–±–æ—Ç–∞")

        # TODO: –ï—Å–ª–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–æ–±–æ—Ç–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ä–æ–±–æ—Ç–∞
        elif robot is not None:
            draw_text("–†–û–ë–û–¢", color=(0, 255, 100))
            draw_text("")

            # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
            draw_text(f"X: {robot.x:.2f}")
            draw_text(f"Y: {robot.y:.2f}")
            draw_text("")

            # –£–≥–æ–ª (–≤ –≥—Ä–∞–¥—É—Å–∞—Ö)
            import math
            angle_deg = math.degrees(robot.___)  # angle
            draw_text(f"–£–≥–æ–ª: {angle_deg:.1f}¬∞")
            draw_text("")

            # –°–∫–æ—Ä–æ—Å—Ç–∏
            draw_text(f"V –ª–∏–Ω: {robot.___:.2f}")  # linear_velocity
            draw_text(f"V —É–≥–ª: {robot.___:.2f}")  # angular_velocity
            draw_text("")

            # TODO: –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –≤ –∑–æ–Ω–∞—Ö (–µ—Å–ª–∏ –µ—Å—Ç—å grid)
            # –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å grid –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–∞
            draw_text("–£–ü–†–ê–í–õ–ï–ù–ò–ï:")
            draw_text("W - –≤–ø–µ—Ä—ë–¥")
            draw_text("S - –Ω–∞–∑–∞–¥")
            draw_text("A - –≤–ª–µ–≤–æ")
            draw_text("D - –≤–ø—Ä–∞–≤–æ")
            draw_text("TAB - —Ä–µ–∂–∏–º –∫–∞—Ä—Ç—ã")
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª.**

---

## üìù –ó–∞–¥–∞–Ω–∏–µ 7.2: –û–±–Ω–æ–≤–ª—è–µ–º main.py

–î–æ–±–∞–≤–∏–º –ø–∞–Ω–µ–ª—å –∏ —Ä–∞—Å—à–∏—Ä–∏–º –æ–∫–Ω–æ.

**–û—Ç–∫—Ä–æ–π—Ç–µ `main.py`:**

### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–Ω–µ–ª–∏

```python
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫–Ω–∞
    PANEL_WIDTH = 200  # <-- –î–û–ë–ê–í–õ–ï–ù–û: —à–∏—Ä–∏–Ω–∞ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏
    GRID_WIDTH = 800   # <-- –ò–ó–ú–ï–ù–ï–ù–û: —à–∏—Ä–∏–Ω–∞ –æ–±–ª–∞—Å—Ç–∏ —Å–µ—Ç–∫–∏
    HEIGHT = 600
    WIDTH = PANEL_WIDTH + GRID_WIDTH  # <-- –ò–ó–ú–ï–ù–ï–ù–û: –æ–±—â–∞—è —à–∏—Ä–∏–Ω–∞ –æ–∫–Ω–∞
    screen = pygame.display.set_mode((WIDTH, HEIGHT))
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤

```python
    # –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç—ã (—Å —É—á—ë—Ç–æ–º –ø–∞–Ω–µ–ª–∏)
    grid = Grid(GRID_WIDTH, HEIGHT, CELL_WIDTH, CELL_HEIGHT, offset_x=___)  # PANEL_WIDTH
    history = History()
    renderer = Renderer(screen, panel_width=___)  # PANEL_WIDTH
```

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ –≤—ã–∑–æ–≤ draw_info_panel

–í –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ, **–ø–æ—Å–ª–µ** –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Ä–æ–±–æ—Ç–∞:

```python
        # –†–∏—Å—É–µ–º —Ä–æ–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ ROBOT
        if mode_manager.is_robot_mode():
            renderer.draw_detection_zones(robot, grid)
            renderer.draw_robot(robot, grid)

        # TODO: –†–∏—Å—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å —Å–ª–µ–≤–∞
        renderer.draw_info_panel(
            robot=___ if mode_manager.is_robot_mode() else None,  # robot
            mode_manager=___  # mode_manager
        )

        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
        pygame.display.flip()
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª.**

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–Ω–µ–ª–∏

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:**

```bash
python main.py
```

### –¢–µ—Å—Ç 1: –†–µ–∂–∏–º MAP_EDIT

- –û–∫–Ω–æ **—à–∏—Ä–µ** (1000 –ø–∏–∫—Å–µ–ª–µ–π = 200 –ø–∞–Ω–µ–ª—å + 800 —Å–µ—Ç–∫–∞) ‚úÖ
- **–°–ª–µ–≤–∞ –ø–∞–Ω–µ–ª—å** —Å —Ç—ë–º–Ω–æ-—Å–µ—Ä—ã–º —Ñ–æ–Ω–æ–º ‚úÖ
- –ù–∞ –ø–∞–Ω–µ–ª–∏:
  - "–†–µ–∂–∏–º: MAP EDIT" (–∂—ë–ª—Ç—ã–π) ‚úÖ
  - "–†–ï–î–ê–ö–¢–û–† –ö–ê–†–¢–´" (–≥–æ–ª—É–±–æ–π) ‚úÖ
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚úÖ

### –¢–µ—Å—Ç 2: –†–µ–∂–∏–º ROBOT

1. **TAB** ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —Ä–µ–∂–∏–º —Ä–æ–±–æ—Ç–∞
2. –ù–∞ –ø–∞–Ω–µ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
   - "–†–µ–∂–∏–º: ROBOT" (–∂—ë–ª—Ç—ã–π) ‚úÖ
   - "–†–û–ë–û–¢" (–∑–µ–ª—ë–Ω—ã–π) ‚úÖ
   - **X, Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** (–æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!) ‚úÖ
   - **–£–≥–æ–ª** –≤ –≥—Ä–∞–¥—É—Å–∞—Ö ‚úÖ
   - **–õ–∏–Ω–µ–π–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** ‚úÖ
   - **–£–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** ‚úÖ
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è WASD ‚úÖ

### –¢–µ—Å—Ç 3: –î–≤–∏–∂–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–∞

1. –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ä–æ–±–æ—Ç–æ–º (WASD)
2. **–ù–∞–±–ª—é–¥–∞–π—Ç–µ –Ω–∞ –ø–∞–Ω–µ–ª–∏:**
   - X, Y –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ ‚úÖ
   - –£–≥–æ–ª –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ ‚úÖ
   - –°–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚úÖ

**–û—Ç–ª–∏—á–Ω–æ! –ü–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç! üìä**

---

## üìù –ó–∞–¥–∞–Ω–∏–µ 7.3: –ë–û–ù–£–° - –î–∞–Ω–Ω—ã–µ –æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–æ–±–∞–≤–∏–º –Ω–∞ –ø–∞–Ω–µ–ª—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è—Ö –≤ –∑–æ–Ω–∞—Ö.

**–í `renderer.py`, –º–µ—Ç–æ–¥ `draw_info_panel`, –¥–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä grid:**

```python
    def draw_info_panel(self, robot=None, mode_manager=None, grid=None):
        """
        –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å —Å–ª–µ–≤–∞

        Args:
            robot: –æ–±—ä–µ–∫—Ç Robot (–∏–ª–∏ None –≤ —Ä–µ–∂–∏–º–µ –∫–∞—Ä—Ç—ã)
            mode_manager: –æ–±—ä–µ–∫—Ç ModeManager
            grid: –æ–±—ä–µ–∫—Ç Grid (–¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π)  # <-- –î–û–ë–ê–í–õ–ï–ù–û
        """
        # ... –≤–µ—Å—å –∫–æ–¥ –¥–æ –±–ª–æ–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ —Ä–æ–±–æ—Ç–∞ ...

        elif robot is not None:
            # ... –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —É–≥–æ–ª, —Å–∫–æ—Ä–æ—Å—Ç–∏ ...

            # TODO: –î–û–ë–ê–í–¨–¢–ï –ø–æ—Å–ª–µ —Å–∫–æ—Ä–æ—Å—Ç–µ–π:
            if grid is not None:
                draw_text("")
                draw_text("–ü–†–ï–ü–Ø–¢–°–¢–í–ò–Ø:")

                # –ü–æ–ª—É—á–∞–µ–º –∑–æ–Ω—ã
                detection_cells = robot.get_detection_zone_cells(grid)
                forward_cells = robot.get_forward_sector_cells(grid)

                # –°—á–∏—Ç–∞–µ–º –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
                obstacles_in_zone = sum(1 for col, row in detection_cells
                                       if grid.is_cell_filled(col, row))
                obstacles_ahead = sum(1 for col, row in forward_cells
                                     if grid.is_cell_filled(col, row))

                # –í—ã–≤–æ–¥–∏–º —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
                draw_text(f"–í –∑–æ–Ω–µ: {obstacles_in_zone}")

                # –ï—Å–ª–∏ –≤–ø–µ—Ä–µ–¥–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ - –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç!
                ahead_color = (255, 100, 100) if obstacles_ahead > 0 else (255, 255, 255)
                draw_text(f"–í–ø–µ—Ä–µ–¥–∏: {obstacles_ahead}", color=ahead_color)

            draw_text("")
            draw_text("–£–ü–†–ê–í–õ–ï–ù–ò–ï:")
            # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
```

**–í `main.py`, –≤—ã–∑–æ–≤ draw_info_panel:**

```python
        # –†–∏—Å—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å —Å–ª–µ–≤–∞
        renderer.draw_info_panel(
            robot=robot if mode_manager.is_robot_mode() else None,
            mode_manager=mode_manager,
            grid=grid  # <-- –î–û–ë–ê–í–õ–ï–ù–û
        )
```

**–¢–µ–ø–µ—Ä—å –ø–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –≤ –∑–æ–Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è ‚úÖ
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –≤–ø–µ—Ä–µ–¥–∏ (–∫—Ä–∞—Å–Ω—ã–º, –µ—Å–ª–∏ > 0) ‚úÖ

---

## üéì –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏?

1. ‚úÖ **pygame.font** ‚Äî –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞
2. ‚úÖ **font.render()** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
3. ‚úÖ **screen.blit()** ‚Äî –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ Surface –Ω–∞ —ç–∫—Ä–∞–Ω–µ
4. ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å** ‚Äî –ø–æ–ª–µ–∑–Ω—ã–π UI —ç–ª–µ–º–µ–Ω—Ç
5. ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** ‚Äî —Ç–µ–∫—Å—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
6. ‚úÖ **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** ‚Äî –∫—Ä–∞—Å–Ω—ã–π = –æ–ø–∞—Å–Ω–æ—Å—Ç—å
7. ‚úÖ **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª** ‚Äî `f"{value:.2f}"` (2 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π)
8. ‚úÖ **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–¥–∏–∞–Ω –≤ –≥—Ä–∞–¥—É—Å—ã** ‚Äî `math.degrees()`

---

## üéâ –§–ò–ù–ê–õ! –ü—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!

**–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏!**

### üèÜ –ò—Ç–æ–≥–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞:

#### –†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç—ã:
- ‚úÖ –†–∏—Å–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –º—ã—à—å—é
- ‚úÖ –°—Ç–∏—Ä–∞–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- ‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–ª–µ—Ç–∫–∏ –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º
- ‚úÖ –û—Ç–º–µ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏–π (Z)
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∫–∞—Ä—Ç—ã (C)

#### –†–æ–±–æ—Ç:
- ‚úÖ –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ —Å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ñ–∏–∑–∏–∫–æ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WASD
- ‚úÖ Float –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —É–≥–æ–ª
- ‚úÖ –õ–∏–Ω–µ–π–Ω–∞—è –∏ —É–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –∫–∞—Ä—Ç—ã

#### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π:
- ‚úÖ –ó–æ–Ω–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è (—Ä–∞–¥–∏—É—Å 2)
- ‚úÖ –ü–µ—Ä–µ–¥–Ω–∏–π —Å–µ–∫—Ç–æ—Ä (¬±45¬∞)
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–æ–Ω (—Å–∏–Ω—è—è, –∂—ë–ª—Ç–∞—è, –∫—Ä–∞—Å–Ω–∞—è)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–¥ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- ‚úÖ –î–≤–∞ —Ä–µ–∂–∏–º–∞ (MAP_EDIT / ROBOT)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ TAB
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å–ª–µ–≤–∞
- ‚úÖ –°—Ç–∞—Ç—É—Å —Ä–æ–±–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üí° –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–∞–ª—å—à–µ? (–¥–ª—è –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö)

1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç** (–∫–∞–∫ –≤ –∫–ª–∞—Å—Å–Ω–æ–π —Ä–∞–±–æ—Ç–µ)
2. **–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ–±–æ—Ç–æ–≤** –Ω–∞ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–µ
3. **–î–∞—Ç—á–∏–∫–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è** ‚Äî –ª—É—á–∏ –æ—Ç —Ä–æ–±–æ—Ç–∞ –¥–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
4. **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ** ‚Äî —Ä–æ–±–æ—Ç —Å–∞–º –æ–±—ä–µ–∑–∂–∞–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
5. **–¶–µ–ª–∏ –Ω–∞ –∫–∞—Ä—Ç–µ** ‚Äî —Ä–æ–±–æ—Ç –¥–æ–ª–∂–µ–Ω –¥–æ–µ—Ö–∞—Ç—å –¥–æ —Ç–æ—á–∫–∏
6. **–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏** (A* –∏–ª–∏ Dijkstra)
7. **–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π** (—Å—Ç–µ–Ω—ã, —è–º—ã, –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã)
8. **–ö–∞–º–µ—Ä–∞ —Ä–æ–±–æ—Ç–∞** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–∏–¥ –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞

---

## üìö –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:

- **–û–û–ü:** –ö–ª–∞—Å—Å—ã (Robot, Grid, History, ModeManager, InputManager, Renderer)
- **–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** State Machine, Manager, History/Undo
- **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:** –¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—è, –≤–µ–∫—Ç–æ—Ä—ã, —É–≥–ª—ã, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- **–§–∏–∑–∏–∫–∞:** –õ–∏–Ω–µ–π–Ω–∞—è/—É–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
- **–ê–ª–≥–æ—Ä–∏—Ç–º—ã:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π
- **UI/UX:** –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã, –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å, –ø–∞–Ω–µ–ª—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** set –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª–µ—Ç–æ–∫

---

## üåü –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!

–í—ã –ø—Ä–æ—à–ª–∏ –ø—É—Ç—å –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –∫–∞—Ä—Ç—ã –¥–æ —Å–ª–æ–∂–Ω–æ–π —Å–∏–º—É–ª—è—Ü–∏–∏ —Ä–æ–±–æ—Ç–∞ —Å —Ñ–∏–∑–∏–∫–æ–π –∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è–º–∏. –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞—à–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º!

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è —Å–≤–æ–∏—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤!** üöÄü§ñ
