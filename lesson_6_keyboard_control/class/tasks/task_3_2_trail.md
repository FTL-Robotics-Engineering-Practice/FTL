# üåü –ó–∞–¥–∞–Ω–∏–µ 3.2: –°–ª–µ–¥ –∑–∞ —Ä–æ–±–æ—Ç–æ–º (15 –º–∏–Ω)

**–ü–æ–≤—Ç–æ—Ä—è–µ–º:** –°–ø–∏—Å–∫–∏, —Ä–∏—Å–æ–≤–∞–Ω–∏–µ –ª–∏–Ω–∏–π, —Ä–∞–±–æ—Ç–∞ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∞–Ω–Ω—ã—Ö.

–ë—ã–ª–æ –±—ã –∑–¥–æ—Ä–æ–≤–æ –≤–∏–¥–µ—Ç—å, –≥–¥–µ –±—ã–ª —Ä–æ–±–æ—Ç! –î–æ–±–∞–≤–∏–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è - –∫—Ä–∞—Å–∏–≤—ã–π —Å–ª–µ–¥ –∏–∑ —Ç–æ—á–µ–∫ –∏–ª–∏ –ª–∏–Ω–∏–π.

---

## üß† –¢–µ–æ—Ä–∏—è: –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–∑–∏—Ü–∏–π

### –°–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ü–∏–π (trail)

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

```python
trail = []  # –ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
```

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é:

```python
trail.append((robot_x, robot_y))
```

–°–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫: `[(0, 0), (5, 3), (10, 5), ...]`

---

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Å–ª–µ–¥–∞

–ï—Å–ª–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å, —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –∏ –∑–∞–º–µ–¥–ª—è—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É. –û–≥—Ä–∞–Ω–∏—á–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫:

```python
MAX_TRAIL_LENGTH = 100

if len(trail) > MAX_TRAIL_LENGTH:
    trail.pop(0)  # –£–¥–∞–ª—è–µ–º —Å–∞–º—É—é —Å—Ç–∞—Ä—É—é —Ç–æ—á–∫—É (–ø–µ—Ä–≤—É—é)
```

**–ú–µ—Ç–æ–¥ pop:**
```python
list.pop(index) -> element
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `index` ‚Äî –∏–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (0 = –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** —É–¥–∞–ª—ë–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç

---

### –†–∏—Å–æ–≤–∞–Ω–∏–µ –ª–∏–Ω–∏–π –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏:**
```python
pygame.draw.line(surface, color, start_pos, end_pos, width) -> Rect
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `surface` ‚Äî –≥–¥–µ —Ä–∏—Å—É–µ–º
- `color` ‚Äî —Ü–≤–µ—Ç –ª–∏–Ω–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ RGB
- `start_pos` ‚Äî –Ω–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –∫–æ—Ä—Ç–µ–∂ `(x, y)`
- `end_pos` ‚Äî –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ –∫–æ—Ä—Ç–µ–∂ `(x, y)`
- `width` ‚Äî —Ç–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Rect ‚Äî –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –æ–±–ª–∞—Å—Ç–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏—è

---

### –†–∏—Å–æ–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫ (–º–∞–ª–µ–Ω—å–∫–∏—Ö –∫—Ä—É–≥–æ–≤)

–î–ª—è —Ç–æ—á–µ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–∞–ª–µ–Ω—å–∫–∏–µ –∫—Ä—É–≥–∏:

```python
pygame.draw.circle(surface, color, center, radius)
```

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ —Ç–æ—á–∫–∞ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–¥–∏—É—Å 2-3 –ø–∏–∫—Å–µ–ª—è.

---

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è

–ü–æ–º–Ω–∏–º, —á—Ç–æ –≤ `trail` —Ö—Ä–∞–Ω—è—Ç—Å—è **–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ** –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∞ —Ä–∏—Å–æ–≤–∞—Ç—å –Ω—É–∂–Ω–æ –≤ **—ç–∫—Ä–∞–Ω–Ω—ã—Ö**:

```python
screen_x = math_x + WIDTH // 2
screen_y = HEIGHT // 2 - math_y
```

---

## üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ª–µ–¥–∞

**–î–æ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞:**

```python
# TODO: –°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Å–ª–µ–¥–∞
trail = ___

# TODO: –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É —Å–ª–µ–¥–∞
MAX_TRAIL_LENGTH = ___  # –ù–∞–ø—Ä–∏–º–µ—Ä, 100
```

---

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ —Å–ª–µ–¥

–í –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ, **–ø–æ—Å–ª–µ** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ —Ä–æ–±–æ—Ç–∞ (–ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–µ–π), –Ω–æ **–¥–æ** –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü–∞–º–∏:

```python
# TODO: –î–æ–±–∞–≤—å—Ç–µ —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –≤ —Å–ª–µ–¥
trail.append(___)

# TODO: –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–ª–∏–Ω—É —Å–ª–µ–¥–∞
if len(trail) > MAX_TRAIL_LENGTH:
    trail.pop(___)  # –£–¥–∞–ª—è–µ–º –ø–µ—Ä–≤—ã–π (—Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π) —ç–ª–µ–º–µ–Ω—Ç
```

---

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–ª–µ–¥–∞

–î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é **–ø–æ—Å–ª–µ** —Ñ—É–Ω–∫—Ü–∏–∏ `draw_robot`:

```python
def draw_trail(screen, trail):
    """–†–∏—Å—É–µ—Ç —Å–ª–µ–¥ –∑–∞ —Ä–æ–±–æ—Ç–æ–º"""
    # TODO: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Å–ª–µ–¥–µ —Ö–æ—Ç—è –±—ã 2 —Ç–æ—á–∫–∏
    if len(trail) < 2:
        return  # –ù–µ—á–µ–≥–æ —Ä–∏—Å–æ–≤–∞—Ç—å
    
    # TODO: –ù–∞—Ä–∏—Å—É–π—Ç–µ –ª–∏–Ω–∏–∏ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
    for i in range(len(trail) - 1):
        # –ü–æ–ª—É—á–∞–µ–º –¥–≤–µ —Å–æ—Å–µ–¥–Ω–∏–µ —Ç–æ—á–∫–∏
        point1 = trail[i]
        point2 = trail[i + 1]
        
        # TODO: –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —ç–∫—Ä–∞–Ω–Ω—ã–µ
        screen_x1 = ___
        screen_y1 = ___
        screen_x2 = ___
        screen_y2 = ___
        
        # TODO: –ù–∞—Ä–∏—Å—É–π—Ç–µ –ª–∏–Ω–∏—é –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
        pygame.draw.line(
            surface=___,
            color=(150, 150, 255),  # –°–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–π
            start_pos=(screen_x1, screen_y1),
            end_pos=(screen_x2, screen_y2),
            width=2
        )
```

---

### –®–∞–≥ 4: –í—ã–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–ª–µ–¥–∞

–í –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ, **–ø–æ—Å–ª–µ** –∑–∞–ª–∏–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞, –Ω–æ **–¥–æ** —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Ä–æ–±–æ—Ç–∞:

```python
screen.fill(WHITE)

# TODO: –ù–∞—Ä–∏—Å—É–π—Ç–µ —Å–ª–µ–¥
draw_trail(___, ___)

# –†–∏—Å—É–µ–º —Ä–æ–±–æ—Ç–∞
draw_robot(...)
```

**–í–∞–∂–Ω–æ:** –°–ª–µ–¥ —Ä–∏—Å—É–µ—Ç—Å—è –î–û —Ä–æ–±–æ—Ç–∞, —á—Ç–æ–±—ã —Ä–æ–±–æ—Ç –±—ã–ª –ø–æ–≤–µ—Ä—Ö —Å–ª–µ–¥–∞!

---

### –®–∞–≥ 5: –î–æ–±–∞–≤—å—Ç–µ –æ—á–∏—Å—Ç–∫—É —Å–ª–µ–¥–∞ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ

–í –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–±—ã—Ç–∏—è –∫–ª–∞–≤–∏—à–∏ R:

```python
if event.key == pygame.K_r:
    robot_x = 0
    robot_y = 0
    robot_direction = 0
    # TODO: –û—á–∏—Å—Ç–∏—Ç–µ —Å–ª–µ–¥
    trail.clear()  # –ò–ª–∏ trail = []
    print("–ü–æ–∑–∏—Ü–∏—è –∏ —Å–ª–µ–¥ —Å–±—Ä–æ—à–µ–Ω—ã")
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- ‚úÖ –ó–∞ —Ä–æ–±–æ—Ç–æ–º —Ç—è–Ω–µ—Ç—Å—è —Å–ª–µ–¥
- ‚úÖ –°–ª–µ–¥ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ª–∏–Ω–∏–π, —Å–æ–µ–¥–∏–Ω—è—é—â–∏—Ö —Ç–æ—á–∫–∏
- ‚úÖ –°–ª–µ–¥ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –¥–ª–∏–Ω—É (—Å—Ç–∞—Ä—ã–µ —Ç–æ—á–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç)
- ‚úÖ –†–æ–±–æ—Ç —Ä–∏—Å—É–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö —Å–ª–µ–¥–∞
- ‚úÖ –°–ª–µ–¥ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏:
- ‚úÖ –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ R —Å–ª–µ–¥ –∏—Å—á–µ–∑–∞–µ—Ç
- ‚úÖ –°–ª–µ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∏—Å–æ–≤–∞—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ –ø–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞

### –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
- ‚úÖ –ù–∞—Ä–∏—Å—É–π—Ç–µ –∫—Ä—É–≥ - —Å–ª–µ–¥ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫—Ä—É–≥
- ‚úÖ –ù–∞—Ä–∏—Å—É–π—Ç–µ –∑–∏–≥–∑–∞–≥ - —Å–ª–µ–¥ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∑–∏–≥–∑–∞–≥
- ‚úÖ –ü–æ–µ–∑–¥–∏—Ç–µ –ø–æ –ø—Ä—è–º–æ–π - —Å–ª–µ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä—è–º–æ–π –ª–∏–Ω–∏–µ–π

---

## üéÆ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 1: –¢–æ—á–∫–∏ –≤–º–µ—Å—Ç–æ –ª–∏–Ω–∏–π

–ò–∑–º–µ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Ä–∏—Å–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã —Ä–∏—Å–æ–≤–∞—Ç—å —Ç–æ—á–∫–∏:

```python
def draw_trail(screen, trail):
    for point in trail:
        math_x, math_y = point
        screen_x = math_x + WIDTH // 2
        screen_y = HEIGHT // 2 - math_y
        
        pygame.draw.circle(
            surface=screen,
            color=(150, 150, 255),
            center=(screen_x, screen_y),
            radius=3  # –ú–∞–ª–µ–Ω—å–∫–∞—è —Ç–æ—á–∫–∞
        )
```

---

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 2: –ó–∞—Ç—É—Ö–∞—é—â–∏–π —Å–ª–µ–¥

–°–¥–µ–ª–∞–π—Ç–µ —Å–ª–µ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –∫ –∫–æ–Ω—Ü—É:

```python
def draw_trail(screen, trail):
    if len(trail) < 2:
        return
    
    for i in range(len(trail) - 1):
        point1 = trail[i]
        point2 = trail[i + 1]
        
        # –í—ã—á–∏—Å–ª—è–µ–º –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (—Å—Ç–∞—Ä—ã–µ —Ç–æ—á–∫–∏ —Ç–µ–º–Ω–µ–µ)
        alpha = int(255 * (i / len(trail)))  # –û—Ç 0 –¥–æ 255
        color = (150, 150, 255)  # –ë–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç
        
        # –°–æ–∑–¥–∞—ë–º –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –¥–ª—è –ª–∏–Ω–∏–∏ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
        line_surface = pygame.Surface((WIDTH, HEIGHT))
        line_surface.set_alpha(value=alpha)
        line_surface.fill(color=WHITE)
        
        screen_x1 = point1[0] + WIDTH // 2
        screen_y1 = HEIGHT // 2 - point1[1]
        screen_x2 = point2[0] + WIDTH // 2
        screen_y2 = HEIGHT // 2 - point2[1]
        
        pygame.draw.line(
            surface=line_surface,
            color=color,
            start_pos=(screen_x1, screen_y1),
            end_pos=(screen_x2, screen_y2),
            width=2
        )
        
        screen.blit(source=line_surface, dest=(0, 0))
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ —Å–ª–æ–∂–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç, –Ω–æ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤—ã–π!

---

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 3: –†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –ø–æ —Ä–µ–∂–∏–º–∞–º

–ò–∑–º–µ–Ω–∏—Ç–µ —Ü–≤–µ—Ç —Å–ª–µ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```python
def draw_trail(screen, trail, mode):
    if mode == "keyboard":
        color = (100, 100, 255)  # –°–∏–Ω–∏–π
    else:
        color = (100, 255, 100)  # –ó–µ–ª—ë–Ω—ã–π
    
    # ... —Ä–∏—Å–æ–≤–∞–Ω–∏–µ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ü–≤–µ—Ç–æ–º
```

---

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 4: –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π —Å–ª–µ–¥

–£–≤–µ–ª–∏—á—å—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É:

```python
MAX_TRAIL_LENGTH = 500
```

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ —ç—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥.

---

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 5: –ó–∞–ø–∏—Å—å —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –≤ —Ñ–∞–π–ª

–î–æ–±–∞–≤—å—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ª–µ–¥–∞ –ø–æ –∫–ª–∞–≤–∏—à–µ S:

```python
if event.key == pygame.K_s:
    with open('trail.txt', 'w') as f:
        for point in trail:
            f.write(f"{point[0]},{point[1]}\n")
    print("–°–ª–µ–¥ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ trail.txt")
```

–ò –∑–∞–≥—Ä—É–∑–∫—É –ø–æ –∫–ª–∞–≤–∏—à–µ L:

```python
if event.key == pygame.K_l:
    try:
        with open('trail.txt', 'r') as f:
            trail = []
            for line in f:
                x, y = line.strip().split(',')
                trail.append((float(x), float(y)))
        print("–°–ª–µ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ trail.txt")
    except FileNotFoundError:
        print("–§–∞–π–ª trail.txt –Ω–µ –Ω–∞–π–¥–µ–Ω")
```

---

## üêõ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ 1: –°–ª–µ–¥ –Ω–µ —Ä–∏—Å—É–µ—Ç—Å—è
**–°–∏–º–ø—Ç–æ–º:** –†–æ–±–æ—Ç –¥–≤–∏–∂–µ—Ç—Å—è, –Ω–æ —Å–ª–µ–¥–∞ –Ω–µ—Ç.

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–±—ã–ª–∏ –≤—ã–∑–≤–∞—Ç—å `draw_trail()` –≤ –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å–ª–µ `screen.fill()` –Ω–æ –¥–æ `draw_robot()`.

---

### –û—à–∏–±–∫–∞ 2: –°–ª–µ–¥ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
**–°–∏–º–ø—Ç–æ–º:** –°–ª–µ–¥ —Ä–∏—Å—É–µ—Ç—Å—è –Ω–µ —Ç–∞–º, –≥–¥–µ –±—ã–ª —Ä–æ–±–æ—Ç.

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–±—ã–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —ç–∫—Ä–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º—É–ª—ã: `screen_x = math_x + WIDTH // 2`, `screen_y = HEIGHT // 2 - math_y`.

---

### –û—à–∏–±–∫–∞ 3: –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ç–æ—Ä–º–æ–∑–∏—Ç
**–°–∏–º–ø—Ç–æ–º:** –ü—Ä–∏ –¥–ª–∏–Ω–Ω–æ–º —Å–ª–µ–¥–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ.

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–µ–¥ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π –∏–ª–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:** –£–º–µ–Ω—å—à–∏—Ç–µ `MAX_TRAIL_LENGTH` –¥–æ 50-100, –¥–æ–±–∞–≤—å—Ç–µ `trail.pop(0)` –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏.

---

### –û—à–∏–±–∫–∞ 4: –°–ª–µ–¥ –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è
**–°–∏–º–ø—Ç–æ–º:** –ü–æ—Å–ª–µ R —Å–ª–µ–¥ –æ—Å—Ç–∞—ë—Ç—Å—è.

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–±—ã–ª–∏ –≤—ã–∑–≤–∞—Ç—å `trail.clear()` –ø—Ä–∏ —Å–±—Ä–æ—Å–µ.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ `trail.clear()` –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–ª–∞–≤–∏—à–∏ R.

---

### –û—à–∏–±–∫–∞ 5: –û—à–∏–±–∫–∞ "list index out of range"
**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏–∏ —Å–ª–µ–¥–∞.

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—ã—Ç–∞–µ—Ç–µ—Å—å –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ `trail[i+1]`, –∫–æ–≥–¥–∞ `i` ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏–Ω–¥–µ–∫—Å.

**–†–µ—à–µ–Ω–∏–µ:** –í —Ü–∏–∫–ª–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `range(len(trail) - 1)`, –∞ –Ω–µ `range(len(trail))`.

---

## üí° –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ! –¢–µ–ø–µ—Ä—å –º—ã –≤–∏–¥–∏–º, –≥–¥–µ –±—ã–ª —Ä–æ–±–æ—Ç.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –°–æ–∑–¥–∞–¥–∏–º –º–∏–Ω–∏-–∏–≥—Ä—É "–°–æ–±–µ—Ä–∏ —Ç–æ—á–∫–∏"! –†–æ–±–æ—Ç –±—É–¥–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ —Ç–æ—á–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—è –æ—á–∫–∏. –î–æ–±–∞–≤–∏–º —Å—á—ë—Ç—á–∏–∫, —Ç–∞–π–º–µ—Ä –∏ —Ä–µ–∫–æ—Ä–¥—ã!