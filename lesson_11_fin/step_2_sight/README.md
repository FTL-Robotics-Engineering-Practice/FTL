# Задание: Система видения робота

## Описание

В этом задании вы реализуете систему видения робота, которая позволит ему "видеть" препятствия вокруг себя и вычислять их центр масс для последующего управления.

## Структура задания

Задание разбито на 5 последовательных частей:

### 1. TASK_01_get_visible_cells.md
Реализация метода `get_visible_cells()` - получение всех клеток в секторе видения 270° (слепая зона сзади 90°).

**Файл:** `sight.py`
**Метод:** `get_visible_cells(robot, grid)`

### 2. TASK_02_filter_obstacles.md
Фильтрация препятствий среди видимых клеток.

**Файл:** `sight.py`
**Метод:** `update(robot, grid)` - часть с фильтрацией

### 3. TASK_03_center_of_mass.md
Вычисление центра масс всех препятствий в зоне видимости.

**Файл:** `sight.py`
**Метод:** `calculate_center_of_mass(grid)`

### 4. TASK_04_draw_sight.md
Отрисовка зоны видимости, препятствий и центра масс.

**Файл:** `renderer.py`
**Методы:**
- `draw_sight_zone(sight, grid)`
- `draw_sight_line(robot, sight)`

### 5. TASK_05_angle_difference.md
Вывод разницы между курсом робота и направлением на центр масс препятствий.

**Файл:** `renderer.py`
**Метод:** `draw_info_panel(...)` - часть с углом до цели

## Порядок выполнения

Выполняйте задания последовательно, начиная с TASK_01. Каждое следующее задание использует результаты предыдущих.

После каждого задания запускайте программу для проверки:

```bash
python code/main.py
```

## Управление

- **TAB** - переключение между режимом карты и режимом робота
- **W/S** - движение вперед/назад (режим робота)
- **A/D** - поворот влево/вправо (режим робота)
- **ЛКМ** - рисовать препятствия (режим карты)
- **ПКМ** - стирать препятствия (режим карты)
- **K** - сохранить карту
- **L** - загрузить карту
- **C** - очистить карту
- **Z** - отменить последнее действие

## Удобная разработка (Watcher)

Чтобы не перезапускать программу вручную каждый раз после внесения изменений в код, используйте скрипт `watcher.py`. Он автоматически перезапустит программу, когда вы закроете окно приложения.

Запуск через вотчер:

```bash
python code/watcher.py
```

Как это работает:
1. Вы запускаете вотчер.
2. Открывается окно программы.
3. Вы пишете код, сохраняете файл.
4. Нажимаете **ESC** в окне программы (или закрываете крестиком).
5. Вотчер тут же запускает программу заново с вашими изменениями.

## Результат

После выполнения всех заданий у вас будет:
- Голубая полупрозрачная зона видимости вокруг робота
- Препятствия в зоне выделены более ярким синим
- Красная точка показывает центр масс препятствий
- Красная линия от робота до центра масс
- В панели отображается угол до цели

Эта информация будет использоваться в следующих уроках для автоматического управления роботом!
