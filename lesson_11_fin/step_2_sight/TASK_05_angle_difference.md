# Задание 5: Отображение разницы углов

## Описание

Нужно дополнить метод `draw_info_panel()` в классе `Renderer`, чтобы выводить разницу между курсом робота и направлением на центр масс препятствий.

## Что нужно сделать

В информационной панели нужно вывести:
1. Заголовок "УГОЛ ДО ЦЕЛИ:"
2. Разницу углов в градусах
3. Только если есть центр масс препятствий

## Доступные переменные

В методе `draw_info_panel()` уже есть:
- `robot` - объект Robot
- `sight` - объект Sight (может быть None)
- Функция `draw_text(text, color, font)` для вывода текста

## Логика решения

1. **Проверить наличие sight и центра масс:**
   - `if sight is not None and sight.center_of_mass:`

2. **Получить координаты центра масс:**
   - `cx, cy = sight.center_of_mass`

3. **Вычислить вектор от робота до центра масс:**
   - `dx = cx - robot.x`
   - `dy = cy - robot.y`

4. **Вычислить угол к центру масс:**
   - `target_angle = math.atan2(dy, dx)`

5. **Вычислить разницу углов:**
   - `angle_diff = target_angle - robot.angle`

6. **Нормализовать в диапазон [-π, π]:**
   ```python
   while angle_diff > math.pi:
       angle_diff -= 2 * math.pi
   while angle_diff < -math.pi:
       angle_diff += 2 * math.pi
   ```

7. **Преобразовать в градусы:**
   - `angle_diff_deg = math.degrees(angle_diff)`

8. **Вывести информацию:**
   ```python
   draw_text("УГОЛ ДО ЦЕЛИ:", color=self.YELLOW)
   draw_text(f"{angle_diff_deg:.1f}°")
   draw_text("")  # Пустая строка
   ```

## Интерпретация значений

- Положительное значение - цель слева от курса (нужно повернуть влево)
- Отрицательное значение - цель справа от курса (нужно повернуть вправо)
- Близко к 0° - робот смотрит на цель
- Близко к ±180° - цель позади робота

## Структура кода

```python
def draw_info_panel(self, robot, mode_manager, grid=None, points=None, sight=None):
    # ... существующий код для панели ...
    
    # Угол
    angle_deg = math.degrees(robot.angle) % 360
    draw_text("УГОЛ:", color=self.YELLOW)
    draw_text(f"{angle_deg:.1f}°")
    draw_text("")  # Пустая строка

    # TODO: Угол до препятствий (если есть sight и центр масс)
    if sight is not None and sight.center_of_mass:
        cx, cy = ...  # получить координаты центра масс
        
        # Вектор от робота до центра масс
        dx = ...
        dy = ...
        
        # Угол к центру масс
        target_angle = ...
        
        # Разница углов
        angle_diff = ...
        
        # TODO: Нормализовать в диапазон [-π, π]
        while angle_diff > math.pi:
            ...
        while angle_diff < -math.pi:
            ...
        
        # Преобразовать в градусы
        angle_diff_deg = ...
        
        # Вывести
        draw_text("УГОЛ ДО ЦЕЛИ:", color=self.YELLOW)
        draw_text(f"{angle_diff_deg:.1f}°")
        draw_text("")

    # ... остальной код панели ...
```

## Место вставки

Код нужно вставить в метод `draw_info_panel()` после вывода угла робота и перед выводом скоростей.

## Проверка

Запустите программу, нарисуйте препятствия и понаблюдайте за информационной панелью. Разница углов должна меняться при поворотах робота:
- Поворачивайте робота (A/D) и смотрите как меняется угол до цели
- Когда робот смотрит на препятствия, угол должен быть близок к 0°
- Когда робот отворачивается, угол увеличивается
